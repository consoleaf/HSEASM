#+TITLE: Домашнее задание №3 \\
#+TITLE: Практические приемы построения многопоточных приложений
#+AUTHOR: Арыслан Якшибаев, БПИ196
#+SUBTITLE: Вариант 30
#+LATEX_CLASS: hseArticle

* [[file:README.pdf][Отчёт.pdf]] :noexport:

* Задание
/Задача для агронома/. Председатель дачного кооператива Сидоров В.И. получил указание, что в связи с составлением единого земельного кадастра, необходимо представить справку о площади занимаемых земель. Известно, что территория с запада и востока параллельна меридианам, на севере ограничены параллелью, а с юга выходят к реке, описываемой функцией $f(x)$. Требуется создать многопоточное приложение, вычисляющее площадь угодий методом адаптивной квадратуры. При решении использовать парадигму рекурсивного параллелизма.

Замечание: кривизну Земли из-за малой занимаемой площади не учитывать.

* Модель вычислений: рекурсивный параллелизм
Рекурсивный параллелизм подразумевает, что рекурсивные вызовы выполняются асинхронно. Это выполнимо только когда параллельные потоки независимы (т.е. они либо не разделяют никаких общих переменных, либо используют их только на чтение). В данной работе рекурсивный параллелизм реализован с использованием функций библиотеки =pthread=, объявленных в header-файле =<future>=. Данный подход подробно описан *[[https://l.wzm.me/_coder/custom/parallel.programming/001.htm][здесь]] (ссылка)*.

* Сборка и выполнение
** Сборка
#+begin_src bash
g++ -pthread main.cpp -o main
#+end_src
** Запуск
Программа принимает на вход данные через аргументы командной строки, и выводит вычисленный результат в =stdout=.
#+begin_src bash
./main <left_bound> <right_bound> [-f <function_number>]
#+end_src
- =left_bound= - левая граница (например, $1$.)
- =right_bound= - правая граница (например, $100$.)
- =function_number= (опционально) - номер функции $f(x)$. Допустимые значения: =1, 2, 3, 4, 5=. *Значение по умолчанию: =1=*.

*** Примеры запуска
#+begin_src bash
./main 1 100
#+end_src

#+begin_src bash
./main 10 1000 -f 2
#+end_src

*** Скриншоты
[[file:Screenshots/1.png]]
[[file:Screenshots/2.png]]
[[file:Screenshots/3.png]]
* Исходный код
#+INCLUDE: main.cpp src cpp
** [[file:main.cpp][Ссылка]] :noexport:
